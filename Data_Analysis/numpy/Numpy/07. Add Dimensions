{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 1,
   "id": "055b7a2a-a919-48a4-aedc-bf613b0600a4",
   "metadata": {},
   "outputs": [],
   "source": [
    "# 给数组增加维度\n",
    "# 背景：数据经常升维至二维或者三维，在不改变数据的情况下，添加数组维度\n",
    "# 例如：原始数组为arr=[1,2,3,4],shape是(4,),取值为arr[0],arr[1],arr[2],arr[3]，但是变形为二维数组则为arr[[1,2,3,4]],shape实则为(1,4),取值为a[0,0],a[0,1],a[0,2],a[0,3]\n",
    "# 实操需要在纸上画出数组形状，判断升维降维"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 2,
   "id": "39b8c848-e7cb-4078-9173-fd0bbc4f0f7e",
   "metadata": {},
   "outputs": [],
   "source": [
    "# 方法\n",
    "# np.newaxis:关键字，使用索引语法给数组添加维度\n",
    "# np.expand_dims(arr,axis):给arr在axis位置添加维度\n",
    "# np.reshape(a,newshape):给一个维度设置为一完成升维"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 3,
   "id": "a4aaf56d-2369-4e62-8932-0435721b48c3",
   "metadata": {},
   "outputs": [],
   "source": [
    "import numpy as np"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 5,
   "id": "057ccda0-ba1c-4803-ae73-8a80b7884cd7",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0, 1, 2, 3, 4])"
      ]
     },
     "execution_count": 5,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "arr=np.arange(5)\n",
    "arr"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 6,
   "id": "32bcd9b1-e2fa-45af-8d09-b57190b5a56a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(5,)"
      ]
     },
     "execution_count": 6,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "arr.shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 7,
   "id": "35f085ab-f8e1-4e9e-b9f5-7a451d9d4705",
   "metadata": {},
   "outputs": [],
   "source": [
    "# np.newaxis关键字法\n",
    "# newaxis为None的别名，下方中所有newaxis皆可以用None代替"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 8,
   "id": "e0aacd58-824e-4429-9386-798018ae158b",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "True"
      ]
     },
     "execution_count": 8,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.newaxis is None"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 9,
   "id": "5113c024-bcb6-496e-9f3d-a6231b1ec313",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "True"
      ]
     },
     "execution_count": 9,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.newaxis==None"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 10,
   "id": "62ce335f-042e-4f39-98b4-c5a42bbaba9b",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[0, 1, 2, 3, 4]])"
      ]
     },
     "execution_count": 10,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 给一维向量（数组）添加一个行维度\n",
    "arr[np.newaxis,:]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "7e1cb6e7-36a8-4aad-8c7e-017b2e8893ff",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(1, 5)"
      ]
     },
     "execution_count": 11,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "arr[np.newaxis,:].shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 12,
   "id": "673da434-5566-4713-b509-f2f12b44c4c8",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[0],\n",
       "       [1],\n",
       "       [2],\n",
       "       [3],\n",
       "       [4]])"
      ]
     },
     "execution_count": 12,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 给一维向量添加一个列维度\n",
    "arr[:,np.newaxis]"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 14,
   "id": "a50924bc-e943-4368-905f-c0ba2a8ebd45",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(5,)"
      ]
     },
     "execution_count": 14,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "arr[:np.newaxis].shape # 五行一列"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 15,
   "id": "30b8cb67-a9fc-4ee9-86d0-7950e4861e93",
   "metadata": {},
   "outputs": [],
   "source": [
    "# np.expand_dims法，与上面的方法一样"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 16,
   "id": "44afab9d-ef9d-4d45-b8ad-7f60a08d3548",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0, 1, 2, 3, 4])"
      ]
     },
     "execution_count": 16,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "arr"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 17,
   "id": "37a8ba9d-14bc-478e-bf15-d0444317babe",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(1, 5)"
      ]
     },
     "execution_count": 17,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 给一维向量添加一个行维度\n",
    "np.expand_dims(arr,axis=0)\n",
    "np.expand_dims(arr,axis=0).shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 18,
   "id": "fed5965c-1737-48e1-ae74-86f038d7ad4d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(5, 1)"
      ]
     },
     "execution_count": 18,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 给一维向量添加一个列维度\n",
    "np.expand_dims(arr,axis=1)\n",
    "np.expand_dims(arr,axis=1).shape"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 19,
   "id": "c744048e-22a6-4c27-8709-46811756a313",
   "metadata": {},
   "outputs": [],
   "source": [
    "# np.reshape法"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 20,
   "id": "4d6944a7-a35e-428c-941a-992671e7f171",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([0, 1, 2, 3, 4])"
      ]
     },
     "execution_count": 20,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "# 给一维向量添加一个行维度\n",
    "arr"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 21,
   "id": "9e051c39-2784-448c-9193-5c0ee68eec18",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[0, 1, 2, 3, 4]])"
      ]
     },
     "execution_count": 21,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.reshape(arr,(1,5)) #一行五列，5为长度，数据过大不方便计算"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 22,
   "id": "411c71ce-037f-456f-887f-75394ae1ef67",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[0, 1, 2, 3, 4]])"
      ]
     },
     "execution_count": 22,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.reshape(arr,(1,-1)) # 可以不指定维度数目，让数据库自己计算，如1行，-1列，则算出的列数会除以1，得出列数"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 23,
   "id": "892b6c27-debc-48f6-9c33-25c50240661d",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(1, 5)"
      ]
     },
     "execution_count": 23,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.reshape(arr,(1,-1)).shape "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 24,
   "id": "362acb50-6d03-4bf7-98f5-a0ee74bed611",
   "metadata": {},
   "outputs": [],
   "source": [
    "# 给一维数组添加列维度"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 25,
   "id": "17efb25c-bb37-4497-941a-116d6d2df40a",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "array([[0],\n",
       "       [1],\n",
       "       [2],\n",
       "       [3],\n",
       "       [4]])"
      ]
     },
     "execution_count": 25,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.reshape(arr,(-1,1)) # 计算列就-1在前"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 26,
   "id": "a3729af5-7764-4346-bfcd-fb270e623f58",
   "metadata": {},
   "outputs": [
    {
     "data": {
      "text/plain": [
       "(5, 1)"
      ]
     },
     "execution_count": 26,
     "metadata": {},
     "output_type": "execute_result"
    }
   ],
   "source": [
    "np.reshape(arr,(-1,1)).shape "
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "a41036b7-5eb1-4c20-985a-ea0d6e02d84b",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python 3 (ipykernel)",
   "language": "python",
   "name": "python3"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.1"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
